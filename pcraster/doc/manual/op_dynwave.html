

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dynwavestate,dynwaveflux,lookuppotential,lookupstate &mdash; PCRaster 4.0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '4.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PCRaster 4.0.3 documentation" href="index.html" />
    <link rel="up" title="pcrcalc and Python operations" href="operations.html" />
    <link rel="next" title="dynamicwave" href="op_dynamicwave.html" />
    <link rel="prev" title="downstreamdist" href="op_downstreamdist.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="op_dynamicwave.html" title="dynamicwave"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="op_downstreamdist.html" title="downstreamdist"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PCRaster 4.0.3 documentation</a> &raquo;</li>
          <li><a href="operations.html" accesskey="U">pcrcalc and Python operations</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="index-0"></span><span class="target" id="index-1"></span><span class="target" id="index-2"></span><span class="target" id="index-3"></span><div class="section" id="dynwavestate-dynwaveflux-lookuppotential-lookupstate">
<span id="dynwave"></span><span id="index-4"></span><h1>dynwavestate,dynwaveflux,lookuppotential,lookupstate<a class="headerlink" href="#dynwavestate-dynwaveflux-lookuppotential-lookupstate" title="Permalink to this headline">¶</a></h1>
<div class="topic">
<p class="topic-title first">dynwave</p>
<p>Dynamic wave equation as state and flux.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">state</span> <span class="o">=</span> <span class="n">dynwavestate</span><span class="p">(</span><span class="n">DynWaveProfileTable</span><span class="p">,</span>
                     <span class="n">sectionID</span><span class="p">,</span>
                     <span class="n">ldd</span><span class="p">,</span>
                     <span class="n">prevState</span><span class="p">,</span>
                     <span class="n">inflow</span><span class="p">,</span>
                     <span class="n">bottomlevel</span><span class="p">,</span>
                     <span class="n">roughness</span><span class="p">,</span>
                     <span class="n">segmentlength</span><span class="p">,</span>
                     <span class="n">nrtimeslices</span><span class="p">,</span>
                     <span class="n">timestepinseconds</span><span class="p">,</span>
                     <span class="n">constantState</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">flux</span> <span class="o">=</span> <span class="n">dynwaveflux</span><span class="p">(</span><span class="n">DynWaveProfileTable</span><span class="p">,</span>
                   <span class="n">sectionID</span><span class="p">,</span>
                   <span class="n">ldd</span><span class="p">,</span>
                   <span class="n">prevState</span><span class="p">,</span>
                   <span class="n">inflow</span><span class="p">,</span>
                   <span class="n">bottomlevel</span><span class="p">,</span>
                   <span class="n">roughness</span><span class="p">,</span>
                   <span class="n">segmentlength</span><span class="p">,</span>
                   <span class="n">nrtimeslices</span><span class="p">,</span>
                   <span class="n">timestepinseconds</span><span class="p">,</span>
                   <span class="n">constantState</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">potential</span> <span class="o">=</span> <span class="n">lookuppotential</span><span class="p">(</span><span class="n">DynWaveProfileTable</span><span class="p">,</span>
                            <span class="n">sectionID</span><span class="p">,</span>
                            <span class="n">bottomlevel</span><span class="p">,</span>
                            <span class="n">segmentlength</span><span class="p">,</span>
                            <span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">state</span> <span class="o">=</span> <span class="n">lookupstate</span><span class="p">(</span><span class="n">DynWaveProfileTable</span><span class="p">,</span>
                    <span class="n">sectionID</span><span class="p">,</span>
                    <span class="n">bottomlevel</span><span class="p">,</span>
                    <span class="n">segmentlength</span><span class="p">,</span>
                    <span class="n">potential</span><span class="p">)</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="16%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Type</th>
<th class="head">[Units] Remarks</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DynWaveProfileTable</td>
<td>ascii table</td>
<td>chanel profile table, described in text below</td>
</tr>
<tr class="row-odd"><td>sectionID</td>
<td>spatial,
nominal,</td>
<td>section IDs of the channels</td>
</tr>
<tr class="row-even"><td>ldd</td>
<td>spatial, ldd</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>prevState</td>
<td>scalar, spatial</td>
<td>initial state (state of the previous timestep) [m3]</td>
</tr>
<tr class="row-even"><td>inflow</td>
<td>scalar, spatial</td>
<td>lateral inflow into the channel segment
[m3/channellength/sec]</td>
</tr>
<tr class="row-odd"><td>bottomLevel</td>
<td>scalar, spatial</td>
<td>bottom levels of channel segments [m]</td>
</tr>
<tr class="row-even"><td>roughnes</td>
<td>scalar, spatial</td>
<td><dl class="first last docutils">
<dt>[-] &gt; 0, if manning: Manning coefficient</dt>
<dd>if chezy: Chezy coefficient</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>segmentlength</td>
<td>scalar, spatial</td>
<td>actual length of the river segment [m]</td>
</tr>
<tr class="row-even"><td>nrtimeslices</td>
<td>scalar, spatial
non-spatial</td>
<td>number of timeslices in dynwave iterator.
The value at the pit defines the nrtimeslices for
its whole catchment.</td>
</tr>
<tr class="row-odd"><td>timestepinseconds</td>
<td>non-spatial
scalar</td>
<td>length of the pcraster timestep [sec]</td>
</tr>
<tr class="row-even"><td>constantState</td>
<td>boolean,spatial
non-spatial</td>
<td>keep the state constant in the locations which are
&#8216;True&#8217;. This allows for defining constant heads
(translated in states) at outlet points.</td>
</tr>
<tr class="row-odd"><td>state</td>
<td>scalar, spatial</td>
<td>[m3]</td>
</tr>
<tr class="row-even"><td>flux</td>
<td>scalar, spatial</td>
<td>[m3]</td>
</tr>
</tbody>
</table>
<p>Global options:</p>
<p>The algortithm is influenced by the options <tt class="docutils literal"><span class="pre">--manning</span></tt> (default) or <tt class="docutils literal"><span class="pre">--chezy</span></tt>, to select the dynamic flow equation (see below for these equations).</p>
<div class="section" id="operation">
<h2>Operation<a class="headerlink" href="#operation" title="Permalink to this headline">¶</a></h2>
<p>The dynamic wave is a hydraulic routing function that calculates flows through the channel network as a function of water level slope, channel profile and channel roughness characteristics (as opposed to kinematic routing, which takes channel bottom slope as an approximation of water level slope). For a detailed discussion of the dynamic wave is referred to the hydrology and hydraulics handbooks (e.g. <a class="reference internal" href="bibliography.html#chow88"><em>Chow</em></a>), here it is assumed that the concepts of the dynamic wave are known.</p>
<p>In hydrology, we commonly do not deal with the state of water (the amount of water) in any given cell in a given timestep, but instead we deal with water levels or water depths. Water levels are the driving forces of the dynamic wave, but for a correct water massbalance, water levels have to be converted to water levels (potentials) and vice-versa. The relation between water levels and water amounts is determined by the channel profile and section length.</p>
<p>This description of the channel profile is stored in a DynWaveProfileTable. The profile table is an ASCII-formatted table, with each line listing (in this order):</p>
<blockquote>
<div><ol class="arabic simple">
<li>cross section ID</li>
<li>water depth [m]</li>
<li>cross section [m2]</li>
<li>wetted perimeter [m]</li>
</ol>
</div></blockquote>
<p>Note that the DynWaveProfileTable lists water depth above bottomlevel, and bottomlevel itself is no part of the DynWaveTable.</p>
<p>Example DynWaveProfileTable:</p>
<div class="highlight-python"><pre>1 0 0   0.0
1 1 1   2.82842712475
1 2 4   5.65685424949
1 3 9   8.48528137424
1 4 16 11.313708499
1 5 25 14.1421356237
1 6 36 16.9705627485
….
2 0 0   0.0
2 1 1   2.82842712475
2 2 4   5.65685424949
2 3 9   8.48528137424
2 4 16 11.313708499
2 5 25 14.1421356237
2 6 36 16.9705627485
…</pre>
</div>
<p>The conversion between water level (a potential) and water state (an amount) is performed with the functions lookuppotential and lookupstate.</p>
<p>The dynamic wave is in PCRaster solved as an iterative process. This
process is defined by the number of iterations (nrtimeslices) and the length of one
PCRaster timestep. The number of iterations is a positive integer, and
defines the internal iterations for the dynamic wave. Because PCRaster
does not explicitly defines the length of the timestep and the units of
the time parameters. For the solving the dynamic wave, this information
is necessary, so the length of the PCRaster timestep has to be defined
in the dynamic wave functions.</p>
<p id="index-5">The current implementation of the dynamic wave function in PCRaster
is not a complete dynamic wave formulation according to the summary
of the Saint Venant equations as discussed by <a class="reference internal" href="bibliography.html#chow88"><em>Ven Te Chow</em></a>. The
implementation currently consists of the friction force term, the gravity
force term and the pressure force term and should therefore be correctly
characterised as a diffusion wave formulation. The equations are solved as
an explicit, finite forward-difference scheme. A straightforward iteration
using an Euler solution scheme is used to solve these equations. These
characteristics can not guarantee a stable solution (if the number of
iterations is choosen too low, results may show oscillations), but are
relatively fast and can be used to maintain a closed water balance.</p>
<p>Pits are considered by the dynamic wave as a closed boundary. Pits will
thus act as a ‘storage of water’, meaning water will enter the pit
cell through the fluxes from upstream cells, but no outflow from the pit
is defined and the water remains in the pit. Over time, the pit thus
accumulates water, and this water will eventually build a high enough
potential to prevent other water from flowing into the cell.</p>
<p>In reality, two types of boundary conditions can be defined. The one
boundary condition is a constant flow boundary condition, the other is
a constant head boundary. Both boundary conditions can be implemented
in the dynwave as follows.</p>
<div class="section" id="constant-flow-boundary-condition-in-pits">
<h3>Constant flow boundary condition in pits<a class="headerlink" href="#constant-flow-boundary-condition-in-pits" title="Permalink to this headline">¶</a></h3>
<p>A straightforward implementation of a constant flow boundary in the
dynamic wave is to explicitly extract this flow from the pit. Model code
implementing  this behavior is:</p>
<div class="highlight-python"><pre>binding
  constantOutflow = ….;
dynamic
  state,flux = dynwavestate,dynwaveflux(DynWaveProfileTable,
                                        sectionID,
                                        lddMap,
                                        prevState,
                                        inflow,
                                        bottomlevel,
                                        roughness,
                                        segmentlength,
                                        10,
                                        1000,
                                        0);

  # Find the pit and subtract a constant value from state
  prevState = if(pit(lddmap) ne 0 then state - constantOutflow else state);</pre>
</div>
</div>
<div class="section" id="constant-head-boundary-condition-in-pits">
<h3>Constant head boundary condition in pits<a class="headerlink" href="#constant-head-boundary-condition-in-pits" title="Permalink to this headline">¶</a></h3>
<p>A straightforward implementation of a constant head boundary in the
dynamic wave is to explicitly set the pit to this head, using the function
lookupstate to go from a head to a state. Model code implementing  this
behavior is:</p>
<div class="highlight-python"><pre>binding
  constantHead = ….;
dynamic
  state,flux = dynwavestate,dynwaveflux(DynWaveProfileTable,
                sectionID,
                lddMap,
                prevState,
                inflow,
                bottomlevel,
                roughness,
                segmentlength,
                10,
                timeinsecs,
                constantHead);

# Find the pit and subtract a constant value from state
prevState = if(pit(lddmap) ne 0 then lookupstate(DynWaveProfileTable,
                                                 sectionID,
                                                 bottomlevel,
                                                 segmentlength,
                                                 potential)
                                                 else state);</pre>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;manning</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">State2Manning = State2Manning.map;</div>
<div class="line">Flux2Manning = Flux2Manning.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">ProfileId2 = ProfileId2.map;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">OldState2 = OldState2.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report State2Manning, Flux2Manning = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">);</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;manning&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">ProfileId2 = readmap(&#8220;ProfileId2.map&#8221;)</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">OldState2 = readmap(&#8220;OldState2.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">State2Manning = dynwavestate(</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">Flux2Manning = dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="18%" />
<col width="17%" />
<col width="12%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>State2Manning.map</td>
<td>Flux2Manning.map</td>
<td>Table.txt</td>
<td>ProfileId2.map</td>
<td>Ldd.map</td>
<td>OldState2.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_State2Manning.png" class="first last" src="_images/dynamicwave_State2Manning.png" />
</td>
<td><img alt="_images/dynamicwave_Flux2Manning.png" class="first last" src="_images/dynamicwave_Flux2Manning.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/dynamicwave_ProfileId2.png" class="first last" src="_images/dynamicwave_ProfileId2.png" />
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/dynamicwave_OldState2.png" class="first last" src="_images/dynamicwave_OldState2.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;chezy</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">State2Chezy = State2Chezy.map;</div>
<div class="line">Flux2Chezy = Flux2Chezy.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">ProfileId2 = ProfileId2.map;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">OldState2 = OldState2.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report State2Chezy, Flux2Chezy = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">;</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;chezy&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">ProfileId2 = readmap(&#8220;ProfileId2.map&#8221;)</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">OldState2 = readmap(&#8220;OldState2.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">State2Chezy=dynwavestate(</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">Flux2Chezy=dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line">ProfileId2, # with a MV</div>
<div class="line">Ldd,</div>
<div class="line">OldState2,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="17%" />
<col width="18%" />
<col width="17%" />
<col width="12%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>State2Chezy.map</td>
<td>Flux2Chezy.map</td>
<td>Table.txt</td>
<td>ProfileId2.map</td>
<td>Ldd.map</td>
<td>OldState2.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_State2Chezy.png" class="first last" src="_images/dynamicwave_State2Chezy.png" />
</td>
<td><img alt="_images/dynamicwave_Flux2Chezy.png" class="first last" src="_images/dynamicwave_Flux2Chezy.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/dynamicwave_ProfileId2.png" class="first last" src="_images/dynamicwave_ProfileId2.png" />
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/dynamicwave_OldState2.png" class="first last" src="_images/dynamicwave_OldState2.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;manning</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">StateManning = StateManning.map;</div>
<div class="line">FluxManning = FluxManning.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">Material = Material.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report StateManning, FluxManning = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">;</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;manning&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">Material = readmap(&#8220;Material.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">StateManning = dynwavestate(</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">FluxManning = dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="21%" />
<col width="22%" />
<col width="15%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>StateManning.map</td>
<td>FluxManning.map</td>
<td>Table.txt</td>
<td>Ldd.map</td>
<td>Material.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_StateManning.png" class="first last" src="_images/dynamicwave_StateManning.png" />
</td>
<td><img alt="_images/dynamicwave_FluxManning.png" class="first last" src="_images/dynamicwave_FluxManning.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/accufraction_Material.png" class="first last" src="_images/accufraction_Material.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;chezy</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">State3Chezy = State3Chezy.map;</div>
<div class="line">Flux3Chezy = Flux3Chezy.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">OldState3 = OldState3.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report State3Chezy, Flux3Chezy = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">;</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;chezy&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">OldState3 = readmap(&#8220;OldState3.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">State3Chezy = dynwavestate(</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">Flux3Chezy = dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="21%" />
<col width="22%" />
<col width="15%" />
<col width="21%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>State3Chezy.map</td>
<td>Flux3Chezy.map</td>
<td>Table.txt</td>
<td>Ldd.map</td>
<td>OldState3.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_State3Chezy.png" class="first last" src="_images/dynamicwave_State3Chezy.png" />
</td>
<td><img alt="_images/dynamicwave_Flux3Chezy.png" class="first last" src="_images/dynamicwave_Flux3Chezy.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/dynamicwave_OldState3.png" class="first last" src="_images/dynamicwave_OldState3.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;chezy</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">StateChezy = StateChezy.map;</div>
<div class="line">FluxChezy = FluxChezy.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">Material = Material.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report StateChezy, FluxChezy = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14, # profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0, # inflow</div>
<div class="line">0, # bottomLevel</div>
<div class="line">0.1, # roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">;</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;chezy&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">Material = readmap(&#8220;Material.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">StateChezy = dynwavestate(</div>
<div class="line">Table,</div>
<div class="line">14, # profileId</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0, # inflow</div>
<div class="line">0, # bottomLevel</div>
<div class="line">0.1, # roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">FluxChezy = dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line">14, # profileId</div>
<div class="line">Ldd,</div>
<div class="line">Material, # oldState</div>
<div class="line">0, # inflow</div>
<div class="line">0, # bottomLevel</div>
<div class="line">0.1, # roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="21%" />
<col width="22%" />
<col width="15%" />
<col width="21%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>StateChezy.map</td>
<td>FluxChezy.map</td>
<td>Table.txt</td>
<td>Ldd.map</td>
<td>Material.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_StateChezy.png" class="first last" src="_images/dynamicwave_StateChezy.png" />
</td>
<td><img alt="_images/dynamicwave_FluxChezy.png" class="first last" src="_images/dynamicwave_FluxChezy.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/accufraction_Material.png" class="first last" src="_images/accufraction_Material.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><div class="first line-block">
<div class="line">• pcrcalc</div>
<div class="line-block">
<div class="line">#! &#8211;manning</div>
<div class="line">binding</div>
<div class="line-block">
<div class="line">State3Manning = State3Manning.map;</div>
<div class="line">Flux3Manning = Flux3Manning.map;</div>
<div class="line">Table = Table.txt;</div>
<div class="line">Ldd = Ldd.map;</div>
<div class="line">OldState3 = OldState3.map;</div>
</div>
<div class="line">initial</div>
<div class="line-block">
<div class="line">report State3Manning, Flux3Manning = dynwavestate,dynwaveflux(</div>
</div>
<div class="line">Table,</div>
<div class="line-block">
<div class="line">14,# profileId</div>
</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">;</div>
<div class="line"><br /></div>
</div>
<div class="line">• python</div>
<div class="line-block">
<div class="line">setglobaloption(&#8220;manning&#8221;)</div>
<div class="line">Table = &#8220;Table.txt&#8221;</div>
<div class="line">Ldd = readmap(&#8220;Ldd.map&#8221;)</div>
<div class="line">OldState3 = readmap(&#8220;OldState3.map&#8221;)</div>
<div class="line"><br /></div>
<div class="line">State3Manning = dynwavestate(</div>
<div class="line">Table,</div>
<div class="line">14,# profileId</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
<div class="line">Flux3Manning = dynwaveflux(</div>
<div class="line">Table,</div>
<div class="line">14,# profileId</div>
<div class="line">Ldd,</div>
<div class="line">OldState3,</div>
<div class="line">0,# inflow</div>
<div class="line">0,# bottomLevel</div>
<div class="line">0.1,# roughness</div>
<div class="line">1,# segmentLength</div>
<div class="line">10,# nrTimeSlices</div>
<div class="line">1, # timestepInSecs</div>
<div class="line">0  # constantState</div>
<div class="line">)</div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="21%" />
<col width="22%" />
<col width="15%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>State3Manning.map</td>
<td>Flux3Manning.map</td>
<td>Table.txt</td>
<td>Ldd.map</td>
<td>OldState3.map</td>
</tr>
<tr class="row-even"><td><img alt="_images/dynamicwave_State3Manning.png" class="first last" src="_images/dynamicwave_State3Manning.png" />
</td>
<td><img alt="_images/dynamicwave_Flux3Manning.png" class="first last" src="_images/dynamicwave_Flux3Manning.png" />
</td>
<td><div class="first last highlight-python"><pre>14 0 0 0.0
14 1 1 2.82842712475
14 2 4 5.65685424949
14 3 9 8.48528137424
14 4 16 11.313708499
14 5 25 14.1421356237
14 6 36 16.9705627485
.....................
14 996 992016 2817.11341625
14 997 994009 2819.94184337
14 998 996004 2822.7702705
14 999 998001 2825.59869762
</pre>
</div>
</td>
<td><img alt="_images/accu_Ldd.png" class="first last" src="_images/accu_Ldd.png" />
</td>
<td><img alt="_images/dynamicwave_OldState3.png" class="first last" src="_images/dynamicwave_OldState3.png" />
</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dynwavestate,dynwaveflux,lookuppotential,lookupstate</a><ul>
<li><a class="reference internal" href="#operation">Operation</a><ul>
<li><a class="reference internal" href="#constant-flow-boundary-condition-in-pits">Constant flow boundary condition in pits</a></li>
<li><a class="reference internal" href="#constant-head-boundary-condition-in-pits">Constant head boundary condition in pits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="op_downstreamdist.html"
                        title="previous chapter">downstreamdist</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="op_dynamicwave.html"
                        title="next chapter">dynamicwave</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="op_dynamicwave.html" title="dynamicwave"
             >next</a> |</li>
        <li class="right" >
          <a href="op_downstreamdist.html" title="downstreamdist"
             >previous</a> |</li>
        <li><a href="index.html">PCRaster 4.0.3 documentation</a> &raquo;</li>
          <li><a href="operations.html" >pcrcalc and Python operations</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 1990-2015, PCRaster R&amp;D Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>